# =============================================================================
# xg2g Production Environment Configuration (Manuel's Setup)
# =============================================================================
# Lokales go run ohne Docker | Receiver: 10.10.55.57 | EPG: Vollständig aktiv
# =============================================================================

# OpenWebIF Receiver Configuration
XG2G_OWI_BASE=http://10.10.55.57
XG2G_BOUQUET=Premium

# =============================================================================
# API Security (Required für /api/refresh)
# =============================================================================  
XG2G_API_TOKEN=17c68be703c54b52f52ddec88a52590d

# =============================================================================
# File Output Configuration (Docker-kompatibel)
# =============================================================================
XG2G_DATA=/data
XG2G_XMLTV=xmltv.xml

# =============================================================================
# Server Configuration
# =============================================================================
XG2G_LISTEN=:8080
XG2G_METRICS_LISTEN=:9090

# =============================================================================
# OpenWebIF Client Robustness Settings
# =============================================================================
XG2G_OWI_TIMEOUT_MS=20000
XG2G_OWI_RETRIES=5
XG2G_OWI_BACKOFF_MS=500

# =============================================================================
# EPG Configuration (Electronic Programme Guide) ⭐ NEU ⭐
# =============================================================================
XG2G_EPG_ENABLED=true
XG2G_EPG_DAYS=3
XG2G_EPG_MAX_CONCURRENCY=3
XG2G_EPG_TIMEOUT_MS=10000
XG2G_EPG_RETRIES=1

# =============================================================================
# Optional: Advanced Configuration
# =============================================================================
XG2G_PICON_BASE=http://10.10.55.57/picon
XG2G_FUZZY_MAX=2
XG2G_STREAM_PORT=8001

# =============================================================================
# Usage Commands (lokales go run):
# =============================================================================
# 1. Start: source .env.prod && go run ./cmd/daemon
# 2. Refresh: curl -H "X-API-Token: 84a4a0474a35594af3777129bbade1c1" -X POST http://localhost:8083/api/refresh
# 3. Status: curl http://localhost:8083/api/status
# 4. Files: curl http://localhost:8083/files/xmltv.xml
# 5. Metrics: curl http://localhost:9090/metrics | grep xg2g_epg
# 
# Expected: xmltv.xml mehrere MB groß mit <programme> für alle 133 Kanäle
# =============================================================================