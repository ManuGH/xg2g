# =============================================================================
# xg2g .env Example
# =============================================================================
# Copy to .env and adapt:
#   cp .env.example .env
#
# Configuration precedence:
#   ENV > config.yaml > defaults
# =============================================================================

# -----------------------------------------------------------------------------
# Core
# -----------------------------------------------------------------------------

# OpenWebIF base URL (REQUIRED)
XG2G_OWI_BASE=http://192.168.1.100

# Optional HTTP Basic Auth
# XG2G_OWI_USER=root
# XG2G_OWI_PASS=secret

# Data directory for generated files (playlist, xmltv, cache, logs)
XG2G_DATA=./data

# API listen address
XG2G_LISTEN=:8080

# Bouquet selection (comma-separated bouquet NAMES)
XG2G_BOUQUET=Premium

# Prefer OpenWebIF /web/stream.m3u (receiver decides direct vs relay internally)
XG2G_USE_WEBIF_STREAMS=true

# Refresh channels/EPG on startup
XG2G_INITIAL_REFRESH=true

# -----------------------------------------------------------------------------
# EPG / XMLTV
# -----------------------------------------------------------------------------

XG2G_EPG_ENABLED=true
XG2G_EPG_DAYS=7
XG2G_XMLTV=xmltv.xml

# -----------------------------------------------------------------------------
# Picons (optional)
# -----------------------------------------------------------------------------

# XG2G_PICON_BASE=https://example.com/picons

# -----------------------------------------------------------------------------
# Security (recommended)
# -----------------------------------------------------------------------------

# Protect expensive endpoints (e.g. POST /api/refresh)
# Generate: openssl rand -hex 32
XG2G_API_TOKEN=change-me

# Optional API rate limiting
# XG2G_RATELIMIT_ENABLED=true
# XG2G_RATELIMIT_RPS=100

# -----------------------------------------------------------------------------
# Metrics (optional)
# -----------------------------------------------------------------------------

# Empty disables metrics; set a listen addr to enable:
# XG2G_METRICS_LISTEN=:9090

# -----------------------------------------------------------------------------
# Audio/Video Transcoding (Legacy - for compatibility)
# -----------------------------------------------------------------------------

# Audio/video compatibility fixes (useful for Plex/Jellyfin)
# XG2G_USE_RUST_REMUXER=true
# XG2G_H264_STREAM_REPAIR=true

# -----------------------------------------------------------------------------
# V3 Streaming Backend (REQUIRED - Production Streaming)
# -----------------------------------------------------------------------------

# Enable V3 worker-based streaming architecture (defaults to true in docker-compose)
XG2G_V3_WORKER_ENABLED=true

# V3 Configuration (Advanced - usually defaults are fine)
# XG2G_V3_WORKER_MODE=standard
# XG2G_V3_STORE_BACKEND=memory
# XG2G_V3_STORE_PATH=/data/v3-store
# XG2G_V3_HLS_ROOT=/data/v3-hls
# XG2G_V3_E2_HOST=  # Leave empty to use XG2G_OWI_BASE
# XG2G_V3_TUNER_SLOTS=  # JSON array, e.g., [0,1] for 2 tuners
# XG2G_V3_TUNE_TIMEOUT=10s
# XG2G_V3_FFMPEG_BIN=ffmpeg
