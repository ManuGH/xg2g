{
  "name": "02_directstream_mkv_to_hls_h264_aac",
  "description": "DirectStream: container mismatch but codecs compatible",
  "input": {
    "source": {
      "container": "mkv",
      "video_codec": "h264",
      "audio_codec": "aac",
      "bitrate_kbps": 8000,
      "resolution": "1920x1080"
    },
    "capabilities": {
      "capabilities_version": 1,
      "container": [
        "mp4",
        "hls"
      ],
      "video_codecs": [
        "h264"
      ],
      "audio_codecs": [
        "aac"
      ],
      "supports_hls": true,
      "device_type": "desktop"
    },
    "policy": {
      "allow_transcode": true
    },
    "api_version": "v3.1"
  },
  "expected": {
    "status": 200,
    "decision": {
      "mode": "direct_stream",
      "selected": {
        "container": "hls",
        "video_codec": "h264",
        "audio_codec": "aac"
      },
      "outputs": [
        {
          "kind": "hls",
          "url": "/api/v3/recordings/test-rec/playlist.m3u8"
        }
      ],
      "constraints": [],
      "reasons": [
        "container_incompatible_but_codecs_compatible"
      ],
      "trace": {
        "requestIdPresent": true
      }
    }
  }
}