# Kustomize configuration for xg2g deployment
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: xg2g

resources:
  - namespace.yaml
  - pvc.yaml  # Persistent storage for data
  - configmap.yaml
  # - secrets.yaml  # Uncomment after creating from secrets.yaml.example
  - deployment.yaml
  - service.yaml
  - ingress.yaml
  - hpa.yaml
  - networkpolicy.yaml  # Network security
  # Optional resources (uncomment as needed):
  # - redis.yaml  # Distributed cache for multi-replica setup
  # - servicemonitor.yaml  # Prometheus metrics (requires Prometheus Operator)
  # - backup-cronjob.yaml  # Automated backups

# Add labels to all resources
commonLabels:
  app: xg2g
  managed-by: kustomize

# Images to use (can be overridden with kustomize edit)
images:
  - name: ghcr.io/manugh/xg2g
    newTag: latest

# Configuration for different environments
# Use with: kustomize build deploy/kubernetes | kubectl apply -f -
