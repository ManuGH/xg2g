# ========================
# Production Environment
# Copy this file to .env.production and set real values
# ========================

# === Security (REQUIRED) ===
# Generate a strong Grafana admin password:
#   openssl rand -base64 32
GRAFANA_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# === Application Config ===
# OpenWebIF base URL of your receiver (no trailing slash)
XG2G_OWI_BASE=http://your-receiver-ip
# Bouquet name as it appears in OpenWebIF
XG2G_BOUQUET=YourBouquetName
# XMLTV output file name (relative to XG2G_DATA)
XG2G_XMLTV=xmltv.xml
# Data directory mount path inside the container
XG2G_DATA=/data
# Main API listen address
XG2G_LISTEN=:8080
# Optional: Prometheus metrics endpoint (empty disables)
XG2G_METRICS_LISTEN=:9090

# === Security (API) ===
# Protect /api/refresh with an API token
# Generate: openssl rand -hex 16
XG2G_API_TOKEN=

# === Performance ===
# OpenWebIF client timeouts and retry policy
XG2G_OWI_TIMEOUT_MS=30000
XG2G_OWI_RETRIES=3
XG2G_OWI_BACKOFF_MS=1000

# =====================================================
# RATE LIMITING
# =====================================================

# Rate limiting (requests per second per IP)
# Protects against DoS attacks and excessive API usage
XG2G_RATE_LIMIT_RPS=5
XG2G_RATE_LIMIT_BURST=10

# =====================================================
# EPG CONFIGURATION
# =====================================================

# EPG fetch strategy: "bouquet" (fast, single request) or "per-service" (default)
# Use "bouquet" if all channels from one bouquet - 10-15x faster!
# XG2G_EPG_SOURCE=bouquet

# EPG days to fetch (1-14)
# XG2G_EPG_DAYS=7

# Max concurrent EPG requests (only for per-service mode)
# XG2G_EPG_MAX_CONCURRENCY=5

# === Advanced ===
# Optional picon base URL (served via /files or external)
# XG2G_PICON_BASE=http://yourhost:8080/files/picons
# Stream port override for receiver stream URLs
# XG2G_STREAM_PORT=8001
